var app=function(){"use strict";function t(){}function e(t){return t()}function n(){return Object.create(null)}function r(t){t.forEach(e)}function s(t){return"function"==typeof t}function l(t,e){return t!=t?e==e:t!==e||t&&"object"==typeof t||"function"==typeof t}let a,o;function i(t,e){return a||(a=document.createElement("a")),a.href=e,t===a.href}function c(t,e){t.appendChild(e)}function u(t,e,n){t.insertBefore(e,n||null)}function d(t){t.parentNode.removeChild(t)}function g(t,e){for(let n=0;n<t.length;n+=1)t[n]&&t[n].d(e)}function f(t){return document.createElement(t)}function p(t){return document.createTextNode(t)}function m(){return p(" ")}function h(){return p("")}function b(t,e,n,r){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n,r)}function y(t){return function(e){return e.preventDefault(),t.call(this,e)}}function v(t,e,n){null==n?t.removeAttribute(e):t.getAttribute(e)!==n&&t.setAttribute(e,n)}function $(t,e){e=""+e,t.wholeText!==e&&(t.data=e)}function w(t,e,n){t.classList[n?"add":"remove"](e)}class x{constructor(){this.e=this.n=null}c(t){this.h(t)}m(t,e,n=null){this.e||(this.e=f(e.nodeName),this.t=e,this.c(t)),this.i(n)}h(t){this.e.innerHTML=t,this.n=Array.from(this.e.childNodes)}i(t){for(let e=0;e<this.n.length;e+=1)u(this.t,this.n[e],t)}p(t){this.d(),this.h(t),this.i(this.a)}d(){this.n.forEach(d)}}function k(t){o=t}function _(){if(!o)throw new Error("Function called outside component initialization");return o}function E(){const t=_();return(e,n)=>{const r=t.$$.callbacks[e];if(r){const s=function(t,e,n=!1){const r=document.createEvent("CustomEvent");return r.initCustomEvent(t,n,!1,e),r}(e,n);r.slice().forEach((e=>{e.call(t,s)}))}}}const I=[],T=[],M=[],j=[],A=Promise.resolve();let N=!1;function C(t){M.push(t)}const L=new Set;let R=0;function H(){const t=o;do{for(;R<I.length;){const t=I[R];R++,k(t),O(t.$$)}for(k(null),I.length=0,R=0;T.length;)T.pop()();for(let t=0;t<M.length;t+=1){const e=M[t];L.has(e)||(L.add(e),e())}M.length=0}while(I.length);for(;j.length;)j.pop()();N=!1,L.clear(),k(t)}function O(t){if(null!==t.fragment){t.update(),r(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(C)}}const F=new Set;function S(t,e){t&&t.i&&(F.delete(t),t.i(e))}function B(t,e,n,r){if(t&&t.o){if(F.has(t))return;F.add(t),undefined.c.push((()=>{F.delete(t),r&&(n&&t.d(1),r())})),t.o(e)}}function P(t){t&&t.c()}function q(t,n,l,a){const{fragment:o,on_mount:i,on_destroy:c,after_update:u}=t.$$;o&&o.m(n,l),a||C((()=>{const n=i.map(e).filter(s);c?c.push(...n):r(n),t.$$.on_mount=[]})),u.forEach(C)}function z(t,e){const n=t.$$;null!==n.fragment&&(r(n.on_destroy),n.fragment&&n.fragment.d(e),n.on_destroy=n.fragment=null,n.ctx=[])}function D(t,e){-1===t.$$.dirty[0]&&(I.push(t),N||(N=!0,A.then(H)),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function G(e,s,l,a,i,c,u,g=[-1]){const f=o;k(e);const p=e.$$={fragment:null,ctx:null,props:c,update:t,not_equal:i,bound:n(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(s.context||(f?f.$$.context:[])),callbacks:n(),dirty:g,skip_bound:!1,root:s.target||f.$$.root};u&&u(p.root);let m=!1;if(p.ctx=l?l(e,s.props||{},((t,n,...r)=>{const s=r.length?r[0]:n;return p.ctx&&i(p.ctx[t],p.ctx[t]=s)&&(!p.skip_bound&&p.bound[t]&&p.bound[t](s),m&&D(e,t)),n})):[],p.update(),m=!0,r(p.before_update),p.fragment=!!a&&a(p.ctx),s.target){if(s.hydrate){const t=function(t){return Array.from(t.childNodes)}(s.target);p.fragment&&p.fragment.l(t),t.forEach(d)}else p.fragment&&p.fragment.c();s.intro&&S(e.$$.fragment),q(e,s.target,s.anchor,s.customElement),H()}k(f)}class J{$destroy(){z(this,1),this.$destroy=t}$on(t,e){const n=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return n.push(e),()=>{const t=n.indexOf(e);-1!==t&&n.splice(t,1)}}$set(t){var e;this.$$set&&(e=t,0!==Object.keys(e).length)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}}let K={};fetch("strings.json").then((t=>t.json())).then((t=>K=t)).catch((t=>console.error(t)));const Q=["English","Turkish","French"];function U(t){return K.ar[t]?K.ar[t]:(t.match(/[ا-ي]/)||console.warn(`translate: "${t}`),t)}function V(t,e,n,r=!0){return null==t[e]||null==t[e][n]?"":Array.isArray(t[e][n])?r?t[e][n].map((t=>U(t))).join("، "):t[e][n].join("، "):r?U(t[e][n]):t[e][n]}function W(t){const e={Arabic:"🇸🇾",English:"🇬🇧",Turkish:"🇹🇷",French:"🇫🇷",Hebrew:"🇮🇱",Chinese:"🇨🇳",Farsi:"🇮🇷"};return Array.isArray(t)?t.map((t=>e[t])).join("|"):e[t]}function X(t,e,n){const r=t.slice();return r[2]=e[n],r}function Y(t){let e,n,r,s,l,a,o,g,h,b,y,w,x,k,_,E,I,T,M,j,A,N,C,L,R,H,O,F,S,B,P,q,z,D,G,J,K,U,V,W,X,Y=t[0].title+"",st=(t[0].title||"")+"",lt=(t[0].subtitle||"")+"",it=t[0].languages&&Z(t),ut=t[0].authors&&tt(t),bt=t[0].translators&&et(t),yt=t[0].editors&&nt(t),vt=(t[0].publisher||t[0].pub_year)&&rt(t),wt=(t[0].edition||t[0].binding||t[0].pages)&&at(),xt=t[0].edition&&ot(t),kt=t[0].binding&&ct(t),_t=t[0].pages&&dt(t),Et=t[0].isbn&&gt(t),It=t[0].dimensions&&ft(t),Tt=t[0].genres&&pt(t),Mt=t[0].keywords&&mt(t),jt=t[0].rating&&ht(t),At=t[0].comments&&$t(t);return{c(){var c,u,d,$;e=f("div"),n=f("div"),r=f("h5"),s=p(Y),l=m(),a=f("button"),o=m(),g=f("div"),h=f("div"),b=f("div"),y=f("div"),w=f("img"),k=m(),_=f("div"),E=f("div"),I=f("h5"),T=p(st),M=m(),j=f("small"),it&&it.c(),A=m(),N=f("h6"),C=p(lt),L=m(),ut&&ut.c(),R=m(),bt&&bt.c(),H=m(),yt&&yt.c(),O=m(),vt&&vt.c(),F=m(),S=f("p"),wt&&wt.c(),B=m(),xt&&xt.c(),P=m(),kt&&kt.c(),q=m(),_t&&_t.c(),z=m(),Et&&Et.c(),D=m(),It&&It.c(),G=m(),Tt&&Tt.c(),J=m(),Mt&&Mt.c(),K=m(),jt&&jt.c(),U=m(),At&&At.c(),V=m(),W=f("div"),W.innerHTML='<button type="button" class="btn btn-secondary" data-bs-dismiss="modal">إغلاق</button>',v(r,"class","modal-title"),v(a,"type","button"),v(a,"class","btn-close svelte-1t7ysg"),v(a,"data-bs-dismiss","modal"),v(a,"aria-label","Close"),v(n,"class","modal-header"),i(w.src,x=t[0].cover&&`images/${t[0].cover}`||"images/no-cover.svg")||v(w,"src",x),v(w,"onerror","this.onerror=null;this.src='images/no-cover.svg';"),v(w,"alt","book cover"),v(w,"class","img-fluid rounded-start"),v(y,"class","col-md-4"),v(N,"class","subtitle"),v(I,"class","card-title"),v(S,"class","card-text"),v(E,"class","card-body"),v(_,"class","col-md-8"),v(b,"class","row g-0"),v(h,"class","card mb-3"),c=h,u="max-width",null===(d="540px")?c.style.removeProperty(u):c.style.setProperty(u,d,$?"important":""),v(g,"class","modal-body"),v(W,"class","modal-footer"),v(e,"class",X="modal-content "+(Q.includes(t[0].languages.language)?"ltr":"")+" svelte-1t7ysg")},m(t,i){u(t,e,i),c(e,n),c(n,r),c(r,s),c(n,l),c(n,a),c(e,o),c(e,g),c(g,h),c(h,b),c(b,y),c(y,w),c(b,k),c(b,_),c(_,E),c(E,I),c(I,T),c(I,M),c(I,j),it&&it.m(j,null),c(I,A),c(I,N),c(N,C),c(E,L),ut&&ut.m(E,null),c(E,R),bt&&bt.m(E,null),c(E,H),yt&&yt.m(E,null),c(E,O),vt&&vt.m(E,null),c(E,F),c(E,S),wt&&wt.m(S,null),c(S,B),xt&&xt.m(S,null),c(S,P),kt&&kt.m(S,null),c(S,q),_t&&_t.m(S,null),c(E,z),Et&&Et.m(E,null),c(E,D),It&&It.m(E,null),c(E,G),Tt&&Tt.m(E,null),c(E,J),Mt&&Mt.m(E,null),c(E,K),jt&&jt.m(E,null),c(E,U),At&&At.m(E,null),c(e,V),c(e,W)},p(t,n){1&n&&Y!==(Y=t[0].title+"")&&$(s,Y),1&n&&!i(w.src,x=t[0].cover&&`images/${t[0].cover}`||"images/no-cover.svg")&&v(w,"src",x),1&n&&st!==(st=(t[0].title||"")+"")&&$(T,st),t[0].languages?it?it.p(t,n):(it=Z(t),it.c(),it.m(j,null)):it&&(it.d(1),it=null),1&n&&lt!==(lt=(t[0].subtitle||"")+"")&&$(C,lt),t[0].authors?ut?ut.p(t,n):(ut=tt(t),ut.c(),ut.m(E,R)):ut&&(ut.d(1),ut=null),t[0].translators?bt?bt.p(t,n):(bt=et(t),bt.c(),bt.m(E,H)):bt&&(bt.d(1),bt=null),t[0].editors?yt?yt.p(t,n):(yt=nt(t),yt.c(),yt.m(E,O)):yt&&(yt.d(1),yt=null),t[0].publisher||t[0].pub_year?vt?vt.p(t,n):(vt=rt(t),vt.c(),vt.m(E,F)):vt&&(vt.d(1),vt=null),t[0].edition||t[0].binding||t[0].pages?wt||(wt=at(),wt.c(),wt.m(S,B)):wt&&(wt.d(1),wt=null),t[0].edition?xt?xt.p(t,n):(xt=ot(t),xt.c(),xt.m(S,P)):xt&&(xt.d(1),xt=null),t[0].binding?kt?kt.p(t,n):(kt=ct(t),kt.c(),kt.m(S,q)):kt&&(kt.d(1),kt=null),t[0].pages?_t?_t.p(t,n):(_t=dt(t),_t.c(),_t.m(S,null)):_t&&(_t.d(1),_t=null),t[0].isbn?Et?Et.p(t,n):(Et=gt(t),Et.c(),Et.m(E,D)):Et&&(Et.d(1),Et=null),t[0].dimensions?It?It.p(t,n):(It=ft(t),It.c(),It.m(E,G)):It&&(It.d(1),It=null),t[0].genres?Tt?Tt.p(t,n):(Tt=pt(t),Tt.c(),Tt.m(E,J)):Tt&&(Tt.d(1),Tt=null),t[0].keywords?Mt?Mt.p(t,n):(Mt=mt(t),Mt.c(),Mt.m(E,K)):Mt&&(Mt.d(1),Mt=null),t[0].rating?jt?jt.p(t,n):(jt=ht(t),jt.c(),jt.m(E,U)):jt&&(jt.d(1),jt=null),t[0].comments?At?At.p(t,n):(At=$t(t),At.c(),At.m(E,null)):At&&(At.d(1),At=null),1&n&&X!==(X="modal-content "+(Q.includes(t[0].languages.language)?"ltr":"")+" svelte-1t7ysg")&&v(e,"class",X)},d(t){t&&d(e),it&&it.d(),ut&&ut.d(),bt&&bt.d(),yt&&yt.d(),vt&&vt.d(),wt&&wt.d(),xt&&xt.d(),kt&&kt.d(),_t&&_t.d(),Et&&Et.d(),It&&It.d(),Tt&&Tt.d(),Mt&&Mt.d(),jt&&jt.d(),At&&At.d()}}}function Z(t){let e,n=W(t[0].languages.language)+"";return{c(){e=p(n)},m(t,n){u(t,e,n)},p(t,r){1&r&&n!==(n=W(t[0].languages.language)+"")&&$(e,n)},d(t){t&&d(e)}}}function tt(t){let e,n,r,s,l=V(t[0],"authors","author",!1)+"";return{c(){e=f("p"),n=f("i"),r=m(),s=p(l),v(n,"class","fa fa-user"),v(n,"aria-hidden","true"),v(e,"class","card-text")},m(t,l){u(t,e,l),c(e,n),c(e,r),c(e,s)},p(t,e){1&e&&l!==(l=V(t[0],"authors","author",!1)+"")&&$(s,l)},d(t){t&&d(e)}}}function et(t){let e,n,r,s,l=V(t[0],"translators","translator",!1)+"";return{c(){e=f("p"),n=f("i"),r=m(),s=p(l),v(n,"class","fa fa-user"),v(n,"aria-hidden","true"),v(e,"class","card-text text-muted")},m(t,l){u(t,e,l),c(e,n),c(e,r),c(e,s)},p(t,e){1&e&&l!==(l=V(t[0],"translators","translator",!1)+"")&&$(s,l)},d(t){t&&d(e)}}}function nt(t){let e,n,r,s,l=V(t[0],"editors","editor",!1)+"";return{c(){e=f("p"),n=f("i"),r=m(),s=p(l),v(n,"class","fa fa-user"),v(n,"aria-hidden","true"),v(e,"class","card-text text-muted")},m(t,l){u(t,e,l),c(e,n),c(e,r),c(e,s)},p(t,e){1&e&&l!==(l=V(t[0],"editors","editor",!1)+"")&&$(s,l)},d(t){t&&d(e)}}}function rt(t){let e,n,r=t[0].publisher&&st(t),s=t[0].pub_year&&lt(t);return{c(){e=f("p"),r&&r.c(),n=m(),s&&s.c(),v(e,"class","card-text")},m(t,l){u(t,e,l),r&&r.m(e,null),c(e,n),s&&s.m(e,null)},p(t,l){t[0].publisher?r?r.p(t,l):(r=st(t),r.c(),r.m(e,n)):r&&(r.d(1),r=null),t[0].pub_year?s?s.p(t,l):(s=lt(t),s.c(),s.m(e,null)):s&&(s.d(1),s=null)},d(t){t&&d(e),r&&r.d(),s&&s.d()}}}function st(t){let e,n,r,s=t[0].publisher+"";return{c(){e=f("i"),n=m(),r=p(s),v(e,"class","fa fa-building"),v(e,"aria-hidden","true")},m(t,s){u(t,e,s),u(t,n,s),u(t,r,s)},p(t,e){1&e&&s!==(s=t[0].publisher+"")&&$(r,s)},d(t){t&&d(e),t&&d(n),t&&d(r)}}}function lt(t){let e,n,r,s=t[0].pub_year+"";return{c(){e=f("i"),n=m(),r=p(s),v(e,"class","fa fa-at"),v(e,"aria-hidden","true")},m(t,s){u(t,e,s),u(t,n,s),u(t,r,s)},p(t,e){1&e&&s!==(s=t[0].pub_year+"")&&$(r,s)},d(t){t&&d(e),t&&d(n),t&&d(r)}}}function at(t){let e;return{c(){e=f("i"),v(e,"class","fa fa-book"),v(e,"aria-hidden","true")},m(t,n){u(t,e,n)},d(t){t&&d(e)}}}function ot(t){let e,n,r,s,l,a=U("الطبعة")+"",o=t[0].edition+"",i=(t[0].binding||t[0].pages)&&it();return{c(){e=p(a),n=p(": "),r=p(o),s=m(),i&&i.c(),l=h()},m(t,a){u(t,e,a),u(t,n,a),u(t,r,a),u(t,s,a),i&&i.m(t,a),u(t,l,a)},p(t,e){1&e&&o!==(o=t[0].edition+"")&&$(r,o),t[0].binding||t[0].pages?i||(i=it(),i.c(),i.m(l.parentNode,l)):i&&(i.d(1),i=null)},d(t){t&&d(e),t&&d(n),t&&d(r),t&&d(s),i&&i.d(t),t&&d(l)}}}function it(t){let e;return{c(){e=p("—")},m(t,n){u(t,e,n)},d(t){t&&d(e)}}}function ct(t){let e,n,r,s=U(t[0].binding)+"",l=t[0].pages&&ut();return{c(){e=p(s),n=m(),l&&l.c(),r=h()},m(t,s){u(t,e,s),u(t,n,s),l&&l.m(t,s),u(t,r,s)},p(t,n){1&n&&s!==(s=U(t[0].binding)+"")&&$(e,s),t[0].pages?l||(l=ut(),l.c(),l.m(r.parentNode,r)):l&&(l.d(1),l=null)},d(t){t&&d(e),t&&d(n),l&&l.d(t),t&&d(r)}}}function ut(t){let e;return{c(){e=p("—")},m(t,n){u(t,e,n)},d(t){t&&d(e)}}}function dt(t){let e,n,r,s=t[0].pages+"",l=U("صفحة")+"";return{c(){e=p(s),n=m(),r=p(l)},m(t,s){u(t,e,s),u(t,n,s),u(t,r,s)},p(t,n){1&n&&s!==(s=t[0].pages+"")&&$(e,s)},d(t){t&&d(e),t&&d(n),t&&d(r)}}}function gt(t){let e,n,r,s,l=t[0].isbn+"";return{c(){e=f("p"),n=f("i"),r=m(),s=p(l),v(n,"class","fa fa-barcode"),v(n,"aria-hidden","true"),v(e,"class","card-text")},m(t,l){u(t,e,l),c(e,n),c(e,r),c(e,s)},p(t,e){1&e&&l!==(l=t[0].isbn+"")&&$(s,l)},d(t){t&&d(e)}}}function ft(t){let e,n,r,s,l,a,o,g=t[0].dimensions+"";return{c(){e=f("p"),n=f("img"),s=m(),l=f("span"),a=p(g),o=p("\n                        سم"),v(n,"class","png-icon dimensions svelte-1t7ysg"),i(n.src,r="images/icons.png")||v(n,"src","images/icons.png"),v(l,"class","dimensions-measures"),v(e,"class","card-text dimensions")},m(t,r){u(t,e,r),c(e,n),c(e,s),c(e,l),c(l,a),c(e,o)},p(t,e){1&e&&g!==(g=t[0].dimensions+"")&&$(a,g)},d(t){t&&d(e)}}}function pt(t){let e,n,r,s,l=V(t[0],"genres","genre")+"";return{c(){e=f("p"),n=f("i"),r=m(),s=p(l),v(n,"class","fa fa-tag"),v(n,"aria-hidden","true"),v(e,"class","card-text")},m(t,l){u(t,e,l),c(e,n),c(e,r),c(e,s)},p(t,e){1&e&&l!==(l=V(t[0],"genres","genre")+"")&&$(s,l)},d(t){t&&d(e)}}}function mt(t){let e,n,r,s,l=V(t[0],"keywords","keyword")+"";return{c(){e=f("p"),n=f("i"),r=m(),s=p(l),v(n,"class","fa fa-tags"),v(n,"aria-hidden","true"),v(e,"class","card-text")},m(t,l){u(t,e,l),c(e,n),c(e,r),c(e,s)},p(t,e){1&e&&l!==(l=V(t[0],"keywords","keyword")+"")&&$(s,l)},d(t){t&&d(e)}}}function ht(t){let e,n=[...Array(5).keys()].reverse(),r=[];for(let e=0;e<n.length;e+=1)r[e]=vt(X(t,n,e));return{c(){e=f("p");for(let t=0;t<r.length;t+=1)r[t].c();v(e,"class","card-text")},m(t,n){u(t,e,n);for(let t=0;t<r.length;t+=1)r[t].m(e,null)},p(t,s){if(1&s){let l;for(n=[...Array(5).keys()].reverse(),l=0;l<n.length;l+=1){const a=X(t,n,l);r[l]?r[l].p(a,s):(r[l]=vt(a),r[l].c(),r[l].m(e,null))}for(;l<r.length;l+=1)r[l].d(1);r.length=n.length}},d(t){t&&d(e),g(r,t)}}}function bt(t){let e;return{c(){e=f("i"),v(e,"class","fa fa-star-o"),v(e,"aria-hidden","true")},m(t,n){u(t,e,n)},d(t){t&&d(e)}}}function yt(t){let e;return{c(){e=f("i"),v(e,"class","fa fa-star rating-star"),v(e,"aria-hidden","true")},m(t,n){u(t,e,n)},d(t){t&&d(e)}}}function vt(t){let e;function n(t,e){return t[2]+1<=t[0].rating?yt:bt}let r=n(t),s=r(t);return{c(){s.c(),e=h()},m(t,n){s.m(t,n),u(t,e,n)},p(t,l){r!==(r=n(t))&&(s.d(1),s=r(t),s&&(s.c(),s.m(e.parentNode,e)))},d(t){s.d(t),t&&d(e)}}}function $t(t){let e,n,r,s,l,a=(t[0].comments||"")+"";return{c(){e=f("p"),n=f("small"),r=f("i"),s=m(),l=new x,v(r,"class","fa fa-info-circle"),v(r,"aria-hidden","true"),l.a=null,v(e,"class","card-text comments svelte-1t7ysg")},m(t,o){u(t,e,o),c(e,n),c(n,r),c(n,s),l.m(a,n)},p(t,e){1&e&&a!==(a=(t[0].comments||"")+"")&&l.p(a)},d(t){t&&d(e)}}}function wt(e){let n,r,s,l=e[0]&&Y(e);return{c(){n=f("div"),r=f("div"),l&&l.c(),v(r,"class","modal-dialog modal-dialog-scrollable "),v(n,"id","modal"),v(n,"class","modal fade"),v(n,"tabindex","-1"),v(n,"aria-labelledby",s=null!=e[0]?e[0].title:""),v(n,"aria-hidden","true")},m(t,e){u(t,n,e),c(n,r),l&&l.m(r,null)},p(t,[e]){t[0]?l?l.p(t,e):(l=Y(t),l.c(),l.m(r,null)):l&&(l.d(1),l=null),1&e&&s!==(s=null!=t[0]?t[0].title:"")&&v(n,"aria-labelledby",s)},i:t,o:t,d(t){t&&d(n),l&&l.d()}}}function xt(t,e,n){let{entry:r,borrower:s}=e;return t.$$set=t=>{"entry"in t&&n(0,r=t.entry),"borrower"in t&&n(1,s=t.borrower)},[r,s]}class kt extends J{constructor(t){super(),G(this,t,xt,wt,l,{entry:0,borrower:1})}}function _t(e){let n,s,l,a,o,i,g,h,w,x,k,_,E,I,T,M,j,A,N,C,L,R,H,O,F,S,B,P,q,z,D,G,J,K,Q,U,V,W,X,Y,Z,tt,et,nt,rt,st,lt,at,ot,it,ct,ut,dt=e[1].titles+"",gt=e[1].authors+"",ft=e[1].languages+"",pt=e[1].pub_years+"",mt=e[1].genres+"",ht=e[1].pages+"";return{c(){n=f("nav"),s=f("div"),l=f("form"),a=f("div"),o=f("div"),i=f("button"),i.innerHTML='<i class="fa fa-search"></i>',g=m(),h=f("input"),w=m(),x=f("div"),k=f("button"),_=f("i"),I=m(),T=f("ul"),M=f("li"),j=f("a"),A=f("small"),N=p(dt),C=p(" العناوين"),L=m(),R=f("li"),H=f("a"),O=f("small"),F=p(gt),S=p(" المؤلفين"),B=m(),P=f("li"),q=f("a"),z=f("small"),D=p(ft),G=p(" اللغة"),J=m(),K=f("li"),Q=f("a"),U=f("small"),V=p(pt),W=p(" تاريخ النشر"),X=m(),Y=f("li"),Z=f("a"),tt=f("small"),et=p(mt),nt=p(" التصنيف"),rt=m(),st=f("li"),lt=f("a"),at=f("small"),ot=p(ht),it=p(" الصفحات"),v(i,"class","input-group-text"),v(h,"id","search-input"),v(h,"type","search"),v(h,"class","form-control"),v(h,"placeholder","عنوان | مؤلف | لغة | تصنيف | وسم"),v(h,"aria-label","search"),v(h,"aria-describedby","search"),v(h,"onfocus","this.setSelectionRange(0, this.value.length)"),v(o,"class","input-group"),v(a,"class","col-11"),v(_,"class",E="fa fa-sort-amount-"+e[0]),v(_,"aria-hidden","true"),v(k,"class","btn dropdown-toggle"),v(k,"type","button"),v(k,"id","sort-dropdown-menu"),v(k,"data-bs-toggle","dropdown"),v(k,"aria-expanded","false"),v(A,"class","text-muted"),v(j,"class","dropdown-item"),v(j,"href","#!"),v(O,"class","text-muted"),v(H,"class","dropdown-item"),v(H,"href","#!"),v(z,"class","text-muted"),v(q,"class","dropdown-item"),v(q,"href","#!"),v(U,"class","text-muted"),v(Q,"class","dropdown-item"),v(Q,"href","#!"),v(tt,"class","text-muted"),v(Z,"class","dropdown-item"),v(Z,"href","#!"),v(at,"class","text-muted"),v(lt,"class","dropdown-item"),v(lt,"href","#!"),v(T,"class","dropdown-menu"),v(T,"aria-labelledby","sort-dropdown-menu"),v(x,"class","dropdown col-1"),v(l,"class","row container-fluid"),v(s,"class","container-fluid"),v(n,"class","navbar fixed-top navbar-light bg-light")},m(t,r){u(t,n,r),c(n,s),c(s,l),c(l,a),c(a,o),c(o,i),c(o,g),c(o,h),c(l,w),c(l,x),c(x,k),c(k,_),c(x,I),c(x,T),c(T,M),c(M,j),c(j,A),c(A,N),c(j,C),c(T,L),c(T,R),c(R,H),c(H,O),c(O,F),c(H,S),c(T,B),c(T,P),c(P,q),c(q,z),c(z,D),c(q,G),c(T,J),c(T,K),c(K,Q),c(Q,U),c(U,V),c(Q,W),c(T,X),c(T,Y),c(Y,Z),c(Z,tt),c(tt,et),c(Z,nt),c(T,rt),c(T,st),c(st,lt),c(lt,at),c(at,ot),c(lt,it),ct||(ut=[b(i,"click",y(e[4])),b(h,"input",e[2]),b(j,"click",e[5]),b(H,"click",e[6]),b(q,"click",e[7]),b(Q,"click",e[8]),b(Z,"click",e[9]),b(lt,"click",e[10])],ct=!0)},p(t,[e]){1&e&&E!==(E="fa fa-sort-amount-"+t[0])&&v(_,"class",E),2&e&&dt!==(dt=t[1].titles+"")&&$(N,dt),2&e&&gt!==(gt=t[1].authors+"")&&$(F,gt),2&e&&ft!==(ft=t[1].languages+"")&&$(D,ft),2&e&&pt!==(pt=t[1].pub_years+"")&&$(V,pt),2&e&&mt!==(mt=t[1].genres+"")&&$(et,mt),2&e&&ht!==(ht=t[1].pages+"")&&$(ot,ht)},i:t,o:t,d(t){t&&d(n),ct=!1,r(ut)}}}function Et(t,e,n){let{sortingModifier:r,sortingIndicator:s}=e;const l=E();function a(t){l("sort",{value:t})}return t.$$set=t=>{"sortingModifier"in t&&n(0,r=t.sortingModifier),"sortingIndicator"in t&&n(1,s=t.sortingIndicator)},[r,s,function(t){l("filter",{value:t.target.value})},a,()=>document.getElementById("search-input").focus(),()=>a("titles"),()=>a("authors"),()=>a("languages"),()=>a("pub_years"),()=>a("genres"),()=>a("pages")]}class It extends J{constructor(t){super(),G(this,t,Et,_t,l,{sortingModifier:0,sortingIndicator:1})}}function Tt(e){let n,r,s;return{c(){n=f("div"),n.innerHTML='<div class="svelte-y4v0ul"><i class="fa fa-chevron-up" aria-hidden="true"></i></div>',v(n,"class","top-scrollerx js-top-scrollerx svg-icons svelte-y4v0ul")},m(t,l){u(t,n,l),r||(s=b(n,"click",e[1]),r=!0)},p:t,d(t){t&&d(n),r=!1,s()}}}function Mt(e){let n,r=e[0]&&Tt(e);return{c(){r&&r.c(),n=h()},m(t,e){r&&r.m(t,e),u(t,n,e)},p(t,[e]){t[0]?r?r.p(t,e):(r=Tt(t),r.c(),r.m(n.parentNode,n)):r&&(r.d(1),r=null)},i:t,o:t,d(t){r&&r.d(t),t&&d(n)}}}function jt(t,e,n){let{show:r=!1}=e;window.onscroll=function(t){n(0,r=(document.documentElement.scrollTop||document.body.scrollTop)>=575)};return t.$$set=t=>{"show"in t&&n(0,r=t.show)},[r,()=>window.scrollTo({top:0,behavior:"smooth"})]}class At extends J{constructor(t){super(),G(this,t,jt,Mt,l,{show:0})}}function Nt(t,e,n){const r=t.slice();return r[20]=e[n],r[22]=n,r}function Ct(t){let e,n,s,l,a,o,i,h,y,w,x,k,_,E,I,T,M,j,A,N,C,L,R,H,O,F,S,B,P,q,z,D,G,J,K,Q,U,V,W,X=t[3].languages+"",Y=t[3].titles+"",Z=t[3].authors+"",tt=t[3].genres+"",et=t[3].pages+"",nt=t[0],rt=[];for(let e=0;e<nt.length;e+=1)rt[e]=Ft(Nt(t,nt,e));return{c(){e=f("div"),n=f("table"),s=f("thead"),l=f("tr"),a=f("th"),o=f("a"),i=f("small"),h=p(X),y=p("\n                اللغة"),w=m(),x=f("th"),k=f("a"),_=f("small"),E=p(Y),I=p("\n                العنوان"),T=m(),M=f("th"),j=f("a"),A=f("small"),N=p(Z),C=p("\n                المؤلف"),L=m(),R=f("th"),R.textContent="الناشر",H=m(),O=f("th"),F=f("a"),S=f("small"),B=p(tt),P=p("\n                التصنيف"),q=m(),z=f("th"),D=f("a"),G=f("small"),J=p(et),K=p("\n                الصفحات"),Q=m(),U=f("tbody");for(let t=0;t<rt.length;t+=1)rt[t].c();v(i,"class","text-muted"),v(o,"class","text-nowrap text-reset svelte-3kpf1m"),v(o,"href","#!"),v(a,"scope","col"),v(_,"class","text-muted"),v(k,"class","text-nowrap text-reset svelte-3kpf1m"),v(k,"href","#!"),v(x,"scope","col"),v(A,"class","text-muted"),v(j,"class","text-nowrap text-reset svelte-3kpf1m"),v(j,"href","#!"),v(M,"scope","col"),v(R,"scope","col"),v(S,"class","text-muted"),v(F,"class","text-nowrap text-reset svelte-3kpf1m"),v(F,"href","#!"),v(O,"scope","col"),v(G,"class","text-muted"),v(D,"class","text-nowrap text-reset svelte-3kpf1m"),v(D,"href","#!"),v(z,"scope","col"),v(n,"class","table table-striped table-hover svelte-3kpf1m"),v(e,"class","table-responsive")},m(r,d){u(r,e,d),c(e,n),c(n,s),c(s,l),c(l,a),c(a,o),c(o,i),c(i,h),c(o,y),c(l,w),c(l,x),c(x,k),c(k,_),c(_,E),c(k,I),c(l,T),c(l,M),c(M,j),c(j,A),c(A,N),c(j,C),c(l,L),c(l,R),c(l,H),c(l,O),c(O,F),c(F,S),c(S,B),c(F,P),c(l,q),c(l,z),c(z,D),c(D,G),c(G,J),c(D,K),c(s,Q),c(n,U);for(let t=0;t<rt.length;t+=1)rt[t].m(U,null);V||(W=[b(o,"click",t[13]),b(k,"click",t[14]),b(j,"click",t[15]),b(F,"click",t[16]),b(D,"click",t[17])],V=!0)},p(t,e){if(8&e&&X!==(X=t[3].languages+"")&&$(h,X),8&e&&Y!==(Y=t[3].titles+"")&&$(E,Y),8&e&&Z!==(Z=t[3].authors+"")&&$(N,Z),8&e&&tt!==(tt=t[3].genres+"")&&$(B,tt),8&e&&et!==(et=t[3].pages+"")&&$(J,et),33&e){let n;for(nt=t[0],n=0;n<nt.length;n+=1){const r=Nt(t,nt,n);rt[n]?rt[n].p(r,e):(rt[n]=Ft(r),rt[n].c(),rt[n].m(U,null))}for(;n<rt.length;n+=1)rt[n].d(1);rt.length=nt.length}},d(t){t&&d(e),g(rt,t),V=!1,r(W)}}}function Lt(e){let n;return{c(){n=f("div"),n.innerHTML='<div class="card-body"><h5 class="card-title mb-2 text-muted">لا نتائج للبحث ...</h5></div>',v(n,"id","no-results"),v(n,"class","card svelte-3kpf1m")},m(t,e){u(t,n,e)},p:t,d(t){t&&d(n)}}}function Rt(t){let e,n=W(t[20].languages.language)+"";return{c(){e=p(n)},m(t,n){u(t,e,n)},p(t,r){1&r&&n!==(n=W(t[20].languages.language)+"")&&$(e,n)},d(t){t&&d(e)}}}function Ht(t){let e,n=("string"==typeof t[20].authors.author?t[20].authors.author:t[20].authors.author[0])+"";return{c(){e=p(n)},m(t,n){u(t,e,n)},p(t,r){1&r&&n!==(n=("string"==typeof t[20].authors.author?t[20].authors.author:t[20].authors.author[0])+"")&&$(e,n)},d(t){t&&d(e)}}}function Ot(t){let e,n=("string"==typeof t[20].genres.genre?U(t[20].genres.genre):U(t[20].genres.genre[0]))+"";return{c(){e=p(n)},m(t,n){u(t,e,n)},p(t,r){1&r&&n!==(n=("string"==typeof t[20].genres.genre?U(t[20].genres.genre):U(t[20].genres.genre[0]))+"")&&$(e,n)},d(t){t&&d(e)}}}function Ft(t){let e,n,r,s,l,a,o,i,g,h,x,k,_,E,I,T,M,j,A,N,C,L=(t[20].title||"")+"",R=(t[20].publisher||"")+"",H=(t[20].pages||"")+"",O=t[20].languages&&Rt(t);function F(){return t[18](t[20])}let S=t[20].authors&&Ht(t),B=t[20].genres&&Ot(t);return{c(){e=f("tr"),n=f("td"),O&&O.c(),r=m(),s=f("td"),l=f("a"),a=p(L),o=m(),i=f("td"),S&&S.c(),g=m(),h=f("td"),x=p(R),k=m(),_=f("td"),B&&B.c(),E=m(),I=f("td"),T=p(H),M=m(),v(l,"href","#"),v(l,"class","svelte-3kpf1m"),v(e,"data-bs-html","true"),v(e,"data-bs-toggle",j=t[20].loaned?"tooltip":""),v(e,"title",A=t[20].loaned?'<i class="fa fa-clock-o" aria-hidden="true"></i> هذا الكتاب مُعار':""),v(e,"class","svelte-3kpf1m"),w(e,"loaned",t[20].loaned),w(e,"text-muted",t[20].loaned)},m(t,d){u(t,e,d),c(e,n),O&&O.m(n,null),c(e,r),c(e,s),c(s,l),c(l,a),c(e,o),c(e,i),S&&S.m(i,null),c(e,g),c(e,h),c(h,x),c(e,k),c(e,_),B&&B.m(_,null),c(e,E),c(e,I),c(I,T),c(e,M),N||(C=b(l,"click",y(F)),N=!0)},p(r,s){(t=r)[20].languages?O?O.p(t,s):(O=Rt(t),O.c(),O.m(n,null)):O&&(O.d(1),O=null),1&s&&L!==(L=(t[20].title||"")+"")&&$(a,L),t[20].authors?S?S.p(t,s):(S=Ht(t),S.c(),S.m(i,null)):S&&(S.d(1),S=null),1&s&&R!==(R=(t[20].publisher||"")+"")&&$(x,R),t[20].genres?B?B.p(t,s):(B=Ot(t),B.c(),B.m(_,null)):B&&(B.d(1),B=null),1&s&&H!==(H=(t[20].pages||"")+"")&&$(T,H),1&s&&j!==(j=t[20].loaned?"tooltip":"")&&v(e,"data-bs-toggle",j),1&s&&A!==(A=t[20].loaned?'<i class="fa fa-clock-o" aria-hidden="true"></i> هذا الكتاب مُعار':"")&&v(e,"title",A),1&s&&w(e,"loaned",t[20].loaned),1&s&&w(e,"text-muted",t[20].loaned)},d(t){t&&d(e),O&&O.d(),S&&S.d(),B&&B.d(),N=!1,C()}}}function St(t){let e,n,r,s,l,a,o,i;function g(t,e){return t[0].length?Ct:Lt}n=new It({props:{sortingIndicator:t[3],sortingModifier:t[4]}}),n.$on("filter",t[11]),n.$on("sort",t[12]);let p=g(t),h=p(t);return l=new kt({props:{entry:t[2],borrower:t[1].find(t[19])}}),o=new At({}),{c(){e=f("main"),P(n.$$.fragment),r=m(),h.c(),s=m(),P(l.$$.fragment),a=m(),P(o.$$.fragment),v(e,"class","container svelte-3kpf1m")},m(t,d){u(t,e,d),q(n,e,null),c(e,r),h.m(e,null),c(e,s),q(l,e,null),c(e,a),q(o,e,null),i=!0},p(t,[r]){const a={};8&r&&(a.sortingIndicator=t[3]),16&r&&(a.sortingModifier=t[4]),n.$set(a),p===(p=g(t))&&h?h.p(t,r):(h.d(1),h=p(t),h&&(h.c(),h.m(e,s)));const o={};4&r&&(o.entry=t[2]),2&r&&(o.borrower=t[1].find(t[19])),l.$set(o)},i(t){i||(S(n.$$.fragment,t),S(l.$$.fragment,t),S(o.$$.fragment,t),i=!0)},o(t){B(n.$$.fragment,t),B(l.$$.fragment,t),B(o.$$.fragment,t),i=!1},d(t){t&&d(e),z(n),h.d(),z(l),z(o)}}}function Bt(t,e,n){let{entries:r=[],borrowers:s=[],current:l=null,originalEntries:a=[],filteredOriginalEntries:o=[],sortingType:i="titles",sortingIndicator:c={titles:"▼",authors:"",languages:"",ratings:"",pub_years:"",pages:"",genres:""},sortingModifier:u="asc"}=e;var d;function g(t){n(2,l=t),new bootstrap.Modal(document.getElementById("modal")).toggle()}function f(t){function e(t,e){return"asc"===u?t>e:t<e}function s(t){let e=o.length?o:a;e=e.sort(t),n(0,r=e.slice(0,r.length))}function l(t,n,r){const s=`${r}s`;return e(null!=t[s]?t[s][r]:"",null!=n[s]?n[s][r]:"")?1:-1}switch(n(4,u=i===t&&"asc"===u?"desc":"asc"),n(10,i=t),n(3,c={titles:"",authors:"",languages:"",ratings:"",pub_years:"",pages:"",genres:""}),i){case"titles":s(((t,n)=>t.title&&n.title&&e(t.title,n.title)?1:-1));break;case"authors":s(((t,e)=>l(t,e,"author")));break;case"languages":s(((t,e)=>l(t,e,"language")));break;case"ratings":s(((t,n)=>t.rating&&n.rating&&e(parseInt(t.rating),parseInt(n.rating))?1:-1));break;case"pub_years":s(((t,n)=>t.pub_year&&n.pub_year&&e(parseInt(t.pub_year),parseInt(n.pub_year))?1:-1));break;case"pages":s(((t,n)=>t.pages&&n.pages&&e(parseInt(t.pages),parseInt(n.pages))?1:-1));break;case"genres":s(((t,e)=>l(t,e,"genre")))}n(3,c[i]="asc"===u?"▼":"▲",c)}function p(t){t=t.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),n(9,o=a.filter((e=>e.title.match(new RegExp(t,"i"))||V(e,"authors","author",!1).match(new RegExp(t,"i"))||W(e.languages.language).match(new RegExp(t,"i"))||function(t,e){const n={Arabic:["عربي","عربى"],English:["انجليزي","انجليزى","انكليزي","انكليزى","انگليزي","انگليزى","إنجليزي","إنجليزى","إنكليزي","إنكليزى","إنگليزي","إنگليزى"],Hebrew:["عبري","عبرى"],Chinese:["صيني","صينى"],French:["فرنسي","فرنسى"],Farsi:["فارسي","فارسى"],Turkish:["تركي","تركى"]};return!!t.match(new RegExp(e,"i"))||!!n[t]&&n[t].join("").includes(e)}("object"==typeof e.languages.language?e.languages.language[0]:e.languages.language,t)||V(e,"genres","genre").match(new RegExp(t,"i"))||V(e,"keywords","keyword").match(new RegExp(t,"i"))))),n(0,r=o)}fetch("./data.json").then((t=>t.json())).then((t=>{n(8,a=t.entry.sort(((t,e)=>t.title>e.title?1:-1))),t.borrowers&&n(1,s="object"==typeof t.borrowers?[t.borrowers.borrower]:t.borrowers.borrower)})).then((()=>{n(0,r=a)})).catch((t=>console.error(t))),d=()=>[].slice.call(document.querySelectorAll('[data-bs-toggle="tooltip"]')).map((t=>new bootstrap.Tooltip(t))),_().$$.after_update.push(d);return t.$$set=t=>{"entries"in t&&n(0,r=t.entries),"borrowers"in t&&n(1,s=t.borrowers),"current"in t&&n(2,l=t.current),"originalEntries"in t&&n(8,a=t.originalEntries),"filteredOriginalEntries"in t&&n(9,o=t.filteredOriginalEntries),"sortingType"in t&&n(10,i=t.sortingType),"sortingIndicator"in t&&n(3,c=t.sortingIndicator),"sortingModifier"in t&&n(4,u=t.sortingModifier)},[r,s,l,c,u,g,f,p,a,o,i,t=>p(t.detail.value),t=>f(t.detail.value),()=>f("languages"),()=>f("titles"),()=>f("authors"),()=>f("genres"),()=>f("pages"),t=>g(t),t=>t.loan["@entryRef"]===entry.id]}return new class extends J{constructor(t){super(),G(this,t,Bt,St,l,{entries:0,borrowers:1,current:2,originalEntries:8,filteredOriginalEntries:9,sortingType:10,sortingIndicator:3,sortingModifier:4})}}({target:document.body,props:{name:"world"}})}();
//# sourceMappingURL=bundle.js.map
